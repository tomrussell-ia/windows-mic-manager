<Window
    x:Class="MicrophoneManager.WinUI.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:tb="using:H.NotifyIcon"
    xmlns:local="using:MicrophoneManager.WinUI"
    Title="Microphone Manager">

    <Grid>
        <!-- System Tray Icon -->
        <tb:TaskbarIcon x:Name="TrayIcon"
                        ToolTipText="Microphone Manager"
                        LeftClickCommand="{x:Bind ShowFlyoutCommand}">
            <tb:TaskbarIcon.IconSource>
                <!-- Tray icon: `Assets/wave-sound.png` (see `Assets/ATTRIBUTION.txt`). -->
                <BitmapImage UriSource="ms-appx:///Assets/wave-sound.png" DecodePixelWidth="32" />
            </tb:TaskbarIcon.IconSource>

            <tb:TaskbarIcon.ContextFlyout>
                <MenuFlyout>
                    <MenuFlyoutItem Text="Show" Click="ShowFlyout_Click"/>
                    <MenuFlyoutItem Text="Icon attribution" Click="IconAttribution_Click" />
                    <MenuFlyoutSeparator/>
                    <MenuFlyoutItem Text="Exit" Click="Exit_Click"/>
                </MenuFlyout>
            </tb:TaskbarIcon.ContextFlyout>
        </tb:TaskbarIcon>
    </Grid>
</Window>
