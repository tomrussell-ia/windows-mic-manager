<Window
    x:Class="MicrophoneManager.WinUI.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:tb="using:H.NotifyIcon"
    xmlns:local="using:MicrophoneManager.WinUI"
    Title="Microphone Manager">

    <Grid>
        <!-- System Tray Icon -->
        <tb:TaskbarIcon x:Name="TrayIcon"
                        ToolTipText="Microphone Manager"
                        LeftClickCommand="{x:Bind ShowFlyoutCommand}">
            <tb:TaskbarIcon.IconSource>
                <!-- Tray icon: `Assets/wave-sound.ico` (converted from PNG, see `Assets/ATTRIBUTION.txt`). -->
                <BitmapImage UriSource="ms-appx:///Assets/wave-sound.ico" />
            </tb:TaskbarIcon.IconSource>

            <tb:TaskbarIcon.ContextFlyout>
                <MenuFlyout>
                    <MenuFlyoutItem Text="Show" Command="{x:Bind ShowFlyoutCommand}"/>
                    <MenuFlyoutItem Text="Icon attribution" Command="{x:Bind IconAttributionCommand}" />
                    <MenuFlyoutSeparator/>
                    <MenuFlyoutItem Text="{x:Bind StartupMenuText, Mode=OneWay}" Command="{x:Bind ToggleStartupCommand}" />
                    <MenuFlyoutSeparator/>
                    <MenuFlyoutItem Text="Exit" Command="{x:Bind ExitCommand}"/>
                </MenuFlyout>
            </tb:TaskbarIcon.ContextFlyout>
        </tb:TaskbarIcon>
    </Grid>
</Window>
